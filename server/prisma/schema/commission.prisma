model Commission {
  id                  String   @id @default(cuid())
  siteId              String   @map("site_id")
  site                Site     @relation(fields: [siteId], references: [id])
  userId              String   @map("user_id")
  user                User     @relation(fields: [userId], references: [id])
  commissionComputationPeriod    SettlementPeriod @map("settlement_period") @default(MONTHLY)
  // settlementStartingFrom DateTime @map("settlement_starting_from") @default(now())
  // settlementEndingAt DateTime @map("settlement_ending_at") @default(now())
  roleId              String   @map("role_id")
  role                Role     @relation(fields: [roleId], references: [id])
  categoryId          String   @map("category_id")
  category            Category @relation(fields: [categoryId], references: [id])
  commissionPercentage Float    @map("commission_percentage")
  createdAt           DateTime @default(now())
  updatedAt           DateTime @default(now())

  createdBy String? @map("created_by") @default("system")
  updatedBy String? @map("updated_by") @default("system")

  @@index([siteId])
  @@index([userId])
  @@index([roleId])
  @@index([categoryId])
  @@unique([siteId, userId, roleId, categoryId])
}

enum SettlementPeriod {
  BI_MONTHLY
  MONTHLY
}